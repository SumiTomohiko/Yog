
YOG = yog
YOG_DIR = src
YOG_LIB = $(YOG_DIR)/libyog.la

ONIG_DIR = onig
ONIG_LIB = $(ONIG_DIR)/libonig.la

BDW_DIR = bdwgc
BDW_LIB = $(BDW_DIR)/libgc.la

all: $(YOG)

$(YOG): $(YOG_LIB) $(ONIG_LIB) $(BDW_LIB)
	./libtool --tag=CC --mode=link $(CC) -o $@ $(YOG_LIB) $(ONIG_LIB) $(BDW_LIB)

$(YOG_LIB): 
	(cd $(YOG_DIR); make)

$(ONIG_LIB): 
	(cd $(ONIG_DIR); make)

$(BDW_LIB): 
	(cd $(BDW_DIR); make)
