#if !defined(__YOG_GC_H__)
#define __YOG_GC_H__

#define ALLOC_OBJ_SIZE(env, keep_children, finalizer, size) \
    YogGC_allocate(env, keep_children, finalizer, size)
#define ALLOC_OBJ(env, keep_children, finalizer, type) \
    ALLOC_OBJ_SIZE(env, keep_children, finalizer, sizeof(type))
#define ALLOC_OBJ_ITEM(env, keep_children, finalizer, type, size, item_type) \
    ALLOC_OBJ_SIZE(env, keep_children, finalizer, sizeof(type) + size * sizeof(item_type))

#if defined(GC_COPYING)
#   define GC_TYPE  YogCopying
#elif defined(GC_MARK_SWEEP)
#   define GC_TYPE  YogMarkSweep
#elif defined(GC_MARK_SWEEP_COMPACT)
#   define GC_TYPE  YogMarkSweepCompact
#elif defined(GC_GENERATIONAL)
#   define GC_TYPE  YogGenerational
#elif defined(GC_BDW)
#   define GC_TYPE  YogBDW
#endif

#define FREE_FROM_GC(env)   YogGC_free_from_gc(env)
#define BIND_TO_GC(env)     YogGC_bind_to_gc(env)

#include <sys/types.h>
#include "yog/yog.h"

/* PROTOTYPE_START */

/**
 * DON'T EDIT THIS AREA. HERE IS GENERATED BY update_prototype.py.
 */
#if defined(__cplusplus)
extern "C" {
#endif
/* src/gc.c */
YogVal YogGC_allocate(YogEnv*, ChildrenKeeper, Finalizer, size_t);
void YogGC_bind_to_gc(YogEnv*);
void YogGC_delete(YogEnv*);
void YogGC_free_from_gc(YogEnv*);
void YogGC_keep(YogEnv*, YogVal*, ObjectKeeper, void*);
void YogGC_perform(YogEnv*);
void YogGC_perform_major(YogEnv*);
void YogGC_perform_minor(YogEnv*);
void YogGC_suspend(YogEnv*);


#if defined(__cplusplus)
}
#endif
/* PROTOTYPE_END */

#endif
/**
 * vim: tabstop=4 shiftwidth=4 expandtab softtabstop=4
 */
