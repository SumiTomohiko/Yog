
top_srcdir = @top_srcdir@
DEPDIR = .deps
am__include = include
prefix = @prefix@
VERSION = @PACKAGE_VERSION@
DIR = $(prefix)/lib/yog/$(VERSION)
SOEXT = @SOEXT@
exts = $(top_srcdir)/ext/concurrent$(SOEXT)
CC = @CC@

.PHONY: all clean distclean maintainer-clean install

include $(DEPDIR)/concurrent.Po

all: $(exts)

$(top_srcdir)/ext/concurrent$(SOEXT): concurrent.c
	$(CC) -I$(top_srcdir)/include -shared -O2 -Wall -lpthread -MT concurrent$(SOEXT) -MD -MP -MF $(DEPDIR)/concurrent.Tpo -o $@ concurrent.c
	mv -f $(DEPDIR)/concurrent.Tpo $(DEPDIR)/concurrent.Po

clean: 
	rm -f *$(SOEXT)

distclean: 
	rm -rf ./$(DEPDIR)
	rm -f *$(SOEXT)
	rm -f Makefile

maintainer-clean: 
	rm -rf ./$(DEPDIR)
	rm -f *$(SOEXT)
	rm -f Makefile

install:
	mkdir -p $(DIR)
	install concurrent$(SOEXT) $(DIR)

# vim: tabstop=8 shiftwidth=8 noexpandtab filetype=automake
