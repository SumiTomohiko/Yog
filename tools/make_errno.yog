
File.open(ARGV[1]) do |in|
  File.open(ARGV[2], "w") do |out|
    out.write("/* This file is generated by " + ARGV[0] + ". DON'T EDIT */\n")
    while line = in.readline()
      errno = line.gsub("\n", "")
      out.write("#if defined(" + errno + ")\n")
      out.write("REGISTER_ERRNO(" + errno + ");\n")
      out.write("#endif\n")
    end
  end
end

# vim: tabstop=2 shiftwidth=2 expandtab softtabstop=2
